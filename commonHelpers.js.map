{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  inputSearch: document.querySelector('.input-name'),\n  btnSearch: document.querySelector('.search-btn'),\n  gallery: document.querySelector('.gallery'),\n};\n\n\nrefs.searchForm.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const name = refs.inputSearch.value;\n\n  fetchImages(name);\n})\n\n\nconst options = {\n  key: '41496485-2e747cbe724a23cc88d300532',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n};\n\nfunction fetchImages(name) {\n\n  options.q = name;\n  \n  const params = new URLSearchParams(options);\n\n   fetch(`https://pixabay.com/api/?${params}`)\n    .then(response => {\n      if(!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n     .then(data => {\n      \n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n          position: 'topRight',\n          backgroundColor: '#EF4040',\n        });\n        return;\n      }\n      renderGallery(data.hits);\n      console.log(data);\n\n      refs.inputSearch.value = '';\n      \n    })\n    .catch(error => \n      console.log(error))\n      \n}\n\nfunction renderGallery(images) {\n  const listEl = images\n  .map(image => {\n    return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n        <img\n          class=\"gallery-image\"\n          src=\"${image.webformatURL}\"\n          alt=\"${image.tags}\"\n          />\n      </a>\n    </li>`\n  })\n    .join('');\nrefs.gallery.innerHTML = ''\nrefs.gallery.insertAdjacentHTML('afterbegin', listEl);\n  \n  const newGallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  captionsDataAlt: 'image.tags'\n   \n});\n  \n}\n\n"],"names":["refs","e","name","fetchImages","options","params","response","data","iziToast","renderGallery","error","images","listEl","image","SimpleLightbox"],"mappings":"6vBAKA,MAAMA,EAAO,CACX,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,aAAa,EACjD,UAAW,SAAS,cAAc,aAAa,EAC/C,QAAS,SAAS,cAAc,UAAU,CAC5C,EAGAA,EAAK,WAAW,iBAAiB,SAAUC,GAAK,CAC9CA,EAAE,eAAc,EAEhB,MAAMC,EAAOF,EAAK,YAAY,MAE9BG,EAAYD,CAAI,CAClB,CAAC,EAGD,MAAME,EAAU,CACd,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,EAEA,SAASD,EAAYD,EAAM,CAEzBE,EAAQ,EAAIF,EAEZ,MAAMG,EAAS,IAAI,gBAAgBD,CAAO,EAEzC,MAAM,4BAA4BC,GAAQ,EACxC,KAAKC,GAAY,CAChB,GAAG,CAACA,EAAS,GACX,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACC,KAAKC,GAAQ,CAEb,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6EACT,SAAU,WACV,gBAAiB,SAC3B,CAAS,EACD,MACD,CACDC,EAAcF,EAAK,IAAI,EACvB,QAAQ,IAAIA,CAAI,EAEhBP,EAAK,YAAY,MAAQ,EAE/B,CAAK,EACA,MAAMU,GACL,QAAQ,IAAIA,CAAK,CAAC,CAExB,CAEA,SAASD,EAAcE,EAAQ,CAC7B,MAAMC,EAASD,EACd,IAAIE,GACI;AAAA,sCAC2BA,EAAM;AAAA;AAAA;AAAA,iBAG3BA,EAAM;AAAA,iBACNA,EAAM;AAAA;AAAA;AAAA,UAIpB,EACE,KAAK,EAAE,EACZb,EAAK,QAAQ,UAAY,GACzBA,EAAK,QAAQ,mBAAmB,aAAcY,CAAM,EAE/B,IAAIE,EAAe,aAAc,CACpD,aAAc,MACd,aAAc,IACd,gBAAiB,YAEnB,CAAC,CAED"}